<!DOCTYPE html>
<html>
<head>
    <title>xdocc, an experimental document compiler</title>
    <link rel="stylesheet" type="text/css" href="..//design/mini-default.css"/>
    <link rel="stylesheet" type="text/css" href="..//design/layout.css"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<header class="row sticky">
    <label for="doc-drawer-checkbox" class="button drawer-toggle col-sm"></label>
  <a href="../" class="logo col-sm3 col-md"><img style="vertical-align: text-top;" id="logo-small2" src="..//design/xdocc-logo.svg" alt="xdocc"></a>
    <a class="button col-sm col-md" href="..//doc">
        <img style="vertical-align: text-top;" id="logo-small2" src="..//design/doc.svg" alt="doc">
        <span>Documentation</span>
    </a>
    <a class="button col-sm col-md" href="..//cheat-md">
        <img style="vertical-align: text-top;" id="logo-small2" src="..//design/cheat-md.svg" alt="cheat-md">
        <span>Markdown</span>
    </a>
    <a class="button col-sm col-md" href="..//cheat-tx">
        <img style="vertical-align: text-top;" id="logo-small2" src="..//design/cheat-tx.svg" alt="cheat-tx">
        <span>Textile</span>
    </a>
    <a class="button col-sm col-md" href="..//cheat-wi">
        <img style="vertical-align: text-top;" id="logo-small2" src="..//design/cheat-wi.svg" alt="cheat-wi">
        <span>Wiki</span>
    </a>
    <a class="button col-sm col-md" href="..//cheat-fm">
        <img style="vertical-align: text-top;" id="logo-small2" src="..//design/cheat-fm.svg" alt="cheat-fm">
        <span>FreeMarker</span>
    </a>
  <a class="button col-sm col-md" href="https://github.com/xdocc">
      <img style="vertical-align: text-top;" id="logo-small2" src="..//design/github.svg" alt="github">
      <span> GitHub</span>
  </a>
</header>

<div class="container responsive-padding">
  <div class="row">
      <div class="col-sm-10 col-md-10 col-lg-10 fluid">
        <div id="document"><body class="section" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#840084" alink="#0000FF">
 <div class="NAVHEADER">
  <table summary="Header navigation table" width="100%" border="0" cellpadding="0" cellspacing="0">
   <tbody>
    <tr>
     <th colspan="3" align="center"></th>
    </tr>
    <tr>
     <td width="10%" align="left" valign="bottom"><a href="x10319.html" accesskey="P">Prev</a></td>
     <td width="80%" align="center" valign="bottom">Chapter 10. Directive Reference</td>
     <td width="10%" align="right" valign="bottom"><a href="x10596.html" accesskey="N">Next</a></td>
    </tr>
   </tbody>
  </table>
  <hr ALIGN="LEFT" WIDTH="100%">
 </div>
 <div class="section">
  <h1 class="section"><a name="AEN10379">include</a></h1> 
  <a></a> 
  <div class="section">
   <h2 class="section"><a name="AEN10384">Synopsis</a></h2> 
   <pre class="programlisting"><tt class="literal">&lt;#include <tt class="replaceable"><i>path</i></tt>&gt;</tt>
or
<tt class="literal">&lt;#include <tt class="replaceable"><i>path</i></tt> <tt class="replaceable"><i>options</i></tt>&gt;</tt>
</pre> 
   <p>Where:</p> 
   <p></p>
   <ul compact="COMPACT">
    <li> <p><tt class="literal"><tt class="replaceable"><i>path</i></tt></tt>: The path of the file to include; an expression that evaluates to a string. (With other words, it doesn't have to be a fixed string, it can also be something like, for example, <tt class="literal">profile.baseDir + "/menu.ftl"</tt>.)</p> </li>
    <li> <p><tt class="literal"><tt class="replaceable"><i>options</i></tt></tt>: One or more of these: <tt class="literal">encoding=<tt class="replaceable"><i>encoding</i></tt></tt>, <tt class="literal">parse=<tt class="replaceable"><i>parse</i></tt></tt></p> <p></p>
     <ul compact="COMPACT">
      <li> <p><tt class="literal"><tt class="replaceable"><i>encoding</i></tt></tt>: Expression evaluates to string</p> </li>
      <li> <p><tt class="literal"><tt class="replaceable"><i>parse</i></tt></tt>: Expression evaluates to boolean (also accepts a few string values for backward compatibility)</p> </li>
      <li> <p><tt class="literal"><tt class="replaceable"><i>ignore_missing</i></tt></tt>: Expression evaluates to boolean</p> </li>
     </ul> </li>
   </ul> 
  </div> 
  <div class="section">
   <h2 class="section"><a name="AEN10420">Description</a></h2> 
   <p>You can use it to insert another FreeMarker template file (specified by the <tt class="literal"><tt class="replaceable"><i>path</i></tt></tt> parameter) into your template. The output from the included template is inserted at the point where the <tt class="literal">include</tt> tag occurs. The included file shares the variables with the including template, similarly like if it was copy-pasted into it. The <tt class="literal">include</tt> directive is not really replaced by the content of the included file, instead it processes the included file each time when FreeMarker reaches the <tt class="literal">include</tt> directive in the course of template processing. So for example if the <tt class="literal">include</tt> is inside a <tt class="literal">list</tt> loop, you can specify different file names in each cycle.</p> 
   <div class="note">
    <p></p>
    <table class="note" width="100%" border="0">
     <tbody>
      <tr>
       <td width="25" align="CENTER" valign="TOP"><img SRC="../images/note.gif" HSPACE="5" ALT="Note"></td>
       <td align="LEFT" valign="TOP"> <p>This directive is not be confused with the JSP (Servlet) include, as it doesn't involve the Servlet container at all, just processes another FreeMarker template, without "leaving" FreeMarker. Regarding how to do a "JSP include" read this...</p> </td>
      </tr>
     </tbody>
    </table>
   </div> 
   <p>The <tt class="literal"><tt class="replaceable"><i>path</i></tt></tt> parameter can be a relative path like <tt class="literal">"foo.ftl"</tt> and <tt class="literal">"../foo.ftl"</tt>, or an absolute like <tt class="literal">"/foo.ftl"</tt>. Relative paths are relative to the directory of the template that contains the <tt class="literal">import</tt> directive. Absolute paths are relative to a base (often referred as the 'root directory of the templates') that the programmer defines when he configures FreeMarker.</p> 
   <div class="note">
    <p></p>
    <table class="note" width="100%" border="0">
     <tbody>
      <tr>
       <td width="25" align="CENTER" valign="TOP"><img SRC="../images/note.gif" HSPACE="5" ALT="Note"></td>
       <td align="LEFT" valign="TOP"> <p>This is different than the way it worked prior FreeMarker 2.1, where the path was always absolute. To preserve the old behavior, enable the classic compatible mode in the <tt class="literal">Configuration</tt> object.</p> </td>
      </tr>
     </tbody>
    </table>
   </div> 
   <p>Always use <tt class="literal">/</tt> (slash) to separate path components, never <tt class="literal">\</tt> (backslash). Even if you are loading templates from your local file system and it uses backslashes (like under. Windows), use <tt class="literal">/</tt>.</p> 
   <p>Example:</p> 
   <p>Assume /common/copyright.ftl contains:</p> 
   <pre class="programlisting">Copyright 2001-2002 ${me}&lt;br&gt;
All rights reserved.</pre> 
   <p>Then this:</p> 
   <pre class="programlisting">&lt;#assign me = "Juila Smith"&gt;
&lt;h1&gt;Some test&lt;/h1&gt;
&lt;p&gt;Yeah.
&lt;hr&gt;
<span class="emphasis"><i class="emphasis">&lt;#include "/common/copyright.ftl"&gt;</i></span></pre> 
   <p>will output this:</p> 
   <pre class="programlisting">&lt;h1&gt;Some test&lt;/h1&gt;
&lt;p&gt;Yeah.
&lt;hr&gt;
<span class="emphasis"><i class="emphasis">Copyright 2001-2002 Juila Smith
All rights reserved.</i></span></pre> 
   <p>The supported <tt class="literal"><tt class="replaceable"><i>options</i></tt></tt> are:</p> 
   <p></p>
   <ul>
    <li> <p><tt class="literal">parse</tt>: If it is <tt class="literal">true</tt>, then the included file will be parsed as FTL, otherwise the whole file will be considered as simple text (i.e, no FreeMarker constructs will be searched in it). If you omit this option, then it defaults to <tt class="literal">true</tt>.</p> </li>
    <li> <p><tt class="literal">encoding</tt>: The encoding (charset) of the included template. You shouldn't use this option anymore; if different template use different encodings, then the programmers should associated the encoding to the templates via <tt class="literal">Configuration.setTemplateConfigurations(<tt class="replaceable"><i>...</i></tt>)</tt>-s (which also overrides that you specify here). If <tt class="literal">Configuration.setTemplateConfigurations(<tt class="replaceable"><i>...</i></tt>)</tt> doesn't specify an encoding for the included template, then the included file inherits the encoding (the charset) of the top-level template, unless you specify an encoding with this option. Examples of valid names: UTF-8, ISO-8859-1, ISO-8859-2, Shift_JIS, Big5, EUC-KR, GB2312. <span class="forProgrammers"><span class="phrase">Encoding names are the same as the ones supported be java.io.InputStreamReader (as of Java API 1.3: MIME-preferred charset names from the IANA Charset Registry)</span></span></p> </li>
    <li> <p><tt class="literal">ignore_missing</tt>: When <tt class="literal">true</tt>, suppresses the error when the template to include is missing, instead <tt class="literal">&lt;#include ...&gt;</tt> will print nothing. When <tt class="literal">false</tt>, the template processing will stop with error if the template is missing. If you omit this option, then it defaults to <tt class="literal">false</tt>.</p> </li>
   </ul> 
   <p>Example:</p> 
   <pre class="programlisting">&lt;#include "/common/navbar.html" parse=false encoding="Shift_JIS"&gt;</pre> 
   <p><span class="forProgrammers"><span class="phrase">Note, that it is possible to automatically do the commonly used inclusions for all templates, with the "auto includes" setting of <tt class="literal">Configuration</tt>.</span></span></p> 
   <div class="section">
    <h3 class="section"><a name="AEN10485">10.13.2.1. Using acquisition</a></h3> 
    <p>There's a special path component represented by an asterisk (<tt class="literal">*</tt>). It is interpreted as "this directory or any of its parents". Therefore, if the template located in <tt class="literal">/foo/bar/template.ftl</tt> has the following line:</p> 
    <pre class="programlisting">&lt;#include "*/footer.ftl"&gt;</pre> 
    <p>then the engine will look for the template in following locations, in this order:</p> 
    <p></p>
    <ul compact="COMPACT">
     <li> <p><tt class="literal">/foo/bar/footer.ftl</tt></p> </li>
     <li> <p><tt class="literal">/foo/footer.ftl</tt></p> </li>
     <li> <p><tt class="literal">/footer.ftl</tt></p> </li>
    </ul> 
    <p>This mechanism is called <span class="term"><i class="emphasis">acquisition</i></span> and allows the designers to place commonly included files in a parent directory, and redefine them on a per-subdirectory basis as needed. We say that the including template acquires the template to include from the first parent directory that has it. Note that you can specify not only a template name to the right of the asterisk, but a subpath as well. I.e. if the previous template instead read:</p> 
    <pre class="programlisting">&lt;#include "*/commons/footer.ftl"&gt;</pre> 
    <p>then the engine would look for the template in following locations, in this order:</p> 
    <p></p>
    <ul compact="COMPACT">
     <li> <p><tt class="literal">/foo/bar/commons/footer.ftl</tt></p> </li>
     <li> <p><tt class="literal">/foo/commons/footer.ftl</tt></p> </li>
     <li> <p><tt class="literal">/commons/footer.ftl</tt></p> </li>
    </ul> 
    <p>Finally, the asterisk needn't be the first element of the path:</p> 
    <pre class="programlisting">&lt;#include "commons/*/footer.ftl"&gt;</pre> 
    <p>would cause the engine to look for the template in following locations, in this order:</p> 
    <p></p>
    <ul compact="COMPACT">
     <li> <p><tt class="literal">/foo/bar/commons/footer.ftl</tt></p> </li>
     <li> <p><tt class="literal">/foo/bar/footer.ftl</tt></p> </li>
     <li> <p><tt class="literal">/foo/footer.ftl</tt></p> </li>
     <li> <p><tt class="literal">/footer.ftl</tt></p> </li>
    </ul> 
    <p>However, there can be at most one asterisk in the path. If you specifying more asterisks, the template won't be found.</p> 
   </div> 
   <div class="section">
    <h3 class="section"><a name="AEN10535">10.13.2.2. Localized lookup</a></h3> 
    <p>A locale is a language and an optional country or dialect identifier (plus also maybe a further variant identifier, like <span class="QUOTE">"MAC"</span>). Whenever a template is requested, a desired locale is always specified (explicitly or implicitly), and FreeMarke will try to find a variant of the template that matches that locale. When a template includes or imports another template, internally that will also be requested for a locale, for the locale that the <tt class="literal">locale</tt> setting is set to, and that's usually for the locale of the top-level template.</p> 
    <p>Suppose your template was loaded with locale <tt class="literal">en_US</tt>, which means U.S. English. When you include another template:</p> 
    <pre class="programlisting">&lt;#include "footer.ftl"&gt;</pre> 
    <p>the engine will in fact look for several templates, in this order:</p> 
    <p></p>
    <ul compact="COMPACT">
     <li> <p><tt class="literal">footer_en_US.ftl</tt>,</p> </li>
     <li> <p><tt class="literal">footer_en.ftl</tt></p> </li>
     <li> <p><tt class="literal">footer.ftl</tt></p> </li>
    </ul> 
    <p>and it will use the first one that exists.</p> 
    <p>Note that if how (and if) FreeMarker searches the localized variations is configurable by the programmers, so we are just describing the default behavior here.<span class="forProgrammers"><span class="phrase"> You can disable localized lookup with the <tt class="literal">localized_lookup</tt> setting (<tt class="literal">Configuration.setLocalizedLookup(boolean)</tt>). Also, you can define your own sequence of deduced template names with the <tt class="literal">template_lookup_strategy</tt> setting (<tt class="literal">Configuration.setTemplateLookupStrategy(TemplateLookupStrategy)</tt>).</span></span></p> 
    <p>When you use both acquisition (i.e., <tt class="literal">*</tt> step in the path) and localized template lookup, the template with more specific locale in a parent directory takes precedence over template with less specific locale in a child directory. Suppose you use the following include from <tt class="literal">/foo/bar/template.ftl</tt>:</p> 
    <pre class="programlisting">&lt;#include "*/footer.ftl"&gt;</pre> 
    <p>the engine will look for these templates, in this order:</p> 
    <p></p>
    <ul compact="COMPACT">
     <li> <p><tt class="literal">/foo/bar/footer_en_US.ftl</tt></p> </li>
     <li> <p><tt class="literal">/foo/footer_en_US.ftl</tt></p> </li>
     <li> <p><tt class="literal">/footer_en_US.ftl</tt></p> </li>
     <li> <p><tt class="literal">/foo/bar/footer_en.ftl</tt></p> </li>
     <li> <p><tt class="literal">/foo/footer_en.ftl</tt></p> </li>
     <li> <p><tt class="literal">/footer_en.ftl</tt></p> </li>
     <li> <p><tt class="literal">/foo/bar/footer.ftl</tt></p> </li>
     <li> <p><tt class="literal">/foo/footer.ftl</tt></p> </li>
     <li> <p><tt class="literal">/footer.ftl</tt></p> </li>
    </ul> 
   </div> 
  </div> 
 </div>
 <div class="NAVFOOTER">
  <hr ALIGN="LEFT" WIDTH="100%">
  <table summary="Footer navigation table" width="100%" border="0" cellpadding="0" cellspacing="0">
   <tbody>
    <tr>
     <td width="33%" align="left" valign="top"><a href="x10319.html" accesskey="P">Prev</a></td>
     <td width="34%" align="center" valign="top"><a href="index.html" accesskey="H">Home</a></td>
     <td width="33%" align="right" valign="top"><a href="x10596.html" accesskey="N">Next</a></td>
    </tr>
    <tr>
     <td width="33%" align="left" valign="top">import</td>
     <td width="34%" align="center" valign="top"><a href="c9413.html" accesskey="U">Up</a></td>
     <td width="33%" align="right" valign="top">list, else, items, sep, break, continue</td>
    </tr>
   </tbody>
  </table>
 </div>
</body></div>
      </div>
  </div>
</div>

<footer>
    <p></p>
</footer>
</body>
</html>